# 糖博士——具备长时记忆的多Agent协同对话式【血糖健康管理助手】

## 项目声明
1、目前本应用已经部署到了线上，详情请点击链接体验：https://app-8hw3c8pteqrl.appmiaoda.com
2、项目完全基于【百度秒哒】开发，这款Vibe Coding工具的技术生态很封闭，下载原始代码需要大量的Token，我们为了节约使用成本只下载了最终版本commit到Github，所以只有一个commit记录，但已经在【百度秒哒】公开了创建过程，我们能够证明这个项目是在本次黑客松期间从0到1搭建起来的。

## 项目介绍

《糖博士》是一款具备长时记忆的多Agent协同对话式【血糖健康管理助手】，面向中国全年龄段的糖尿病患者；瞄准了现有主流AI健康助手缺乏人情味、专业术语难懂、无长时记忆等痛点，以兼具专业性与情感支持的对话Agent为主导，同步构建了包含数据记录、即时分析、教育科普、情感支持、长时记忆这5大Agent为辅助的，一个整合性的多Agent协同工作流。 整个项目的商业计划书详见：https://ai.feishu.cn/wiki/M81SwtrjniZPa1kxwI1cIcjKnhb

## 核心功能

### 1. 智能对话助手
- **多Agent协同**：对话协调Agent、数据记录Agent、即时分析Agent、教育科普Agent、激励与情感支持Agent
- **自然语言交互**：通过对话完成所有操作，无需复杂的表单填写
- **流式响应**：实时显示AI回复，提供流畅的对话体验
- **上下文记忆**：维护对话历史，理解多轮对话的上下文

### 2. AI Memory系统（核心创新）
#### 记忆分层架构
- **短期工作记忆**：当前对话的上下文缓存
- **长期事实记忆**：
  - 用户档案：糖尿病类型、用药、目标血糖范围
  - 事件日志：血糖、饮食、运动、用药的结构化记录
  - 反馈记录：建议采纳情况和效果追踪
- **长期模式记忆**：
  - 行为模式：食物反应、时间规律、活动影响
  - 偏好与禁忌：过敏源、不喜欢、习惯、日程

#### 智能工作流
1. **记忆检索（RAG）**：自动加载用户档案、偏好、模式和历史数据
2. **冲突检测**：识别违反禁忌的行为并预警
3. **模式匹配**：基于历史规律提供个性化建议
4. **记忆沉淀**：自动提取事件、识别模式、更新偏好

### 3. 数据记录管理
- **血糖记录**：记录不同时段的血糖测量数据（空腹、餐前、餐后、睡前、随机）
- **饮食记录**：记录每日饮食情况（早餐、午餐、晚餐、加餐）
- **运动记录**：记录运动类型、时长和强度
- **自动记录**：AI自动识别对话中的数据并记录

### 4. 数据分析与可视化
- **趋势图表**：直观展示血糖变化趋势
- **统计分析**：计算平均值、最高值、最低值等关键指标
- **健康建议**：基于数据分析提供个性化的健康建议
- **多时段对比**：支持查看7天、14天、30天的数据对比

### 5. 个人档案管理
- **健康档案**：管理糖尿病类型、用药、目标血糖范围
- **偏好设置**：记录过敏源、饮食偏好、生活习惯、日程安排
- **行为模式洞察**：查看AI发现的健康规律和模式

## 设计特色

- **温暖的浅紫色主色调**：营造专业且温馨的健康氛围
- **圆润的设计风格**：采用圆角设计和柔和的阴影层次
- **响应式布局**：完美适配桌面端和移动端
- **卡片式布局**：信息层次清晰，视觉舒适

## 使用说明

### 首次使用

1. **注册账户**：使用用户名和密码注册（用户名只能包含字母、数字和下划线）
2. **自动登录**：注册成功后自动登录进入应用
3. **开始对话**：在智能对话页面与助手交流，记录您的健康数据

### 主要功能使用

#### 智能对话（AI Memory系统演示）
**建立档案**：
- "我叫张三，2型糖尿病，正在服用二甲双胍"
- "我对藜麦过敏，不吃香菜"
- "每周三下午要去游泳"

**日常记录**：
- 直接告诉助手您的血糖数据："我刚测了血糖，空腹7.2"
- 记录饮食："我午餐吃了牛肉面"
- 记录运动："我跑步30分钟"

**体验智能记忆**：
- 询问健康知识："什么是GI值？"
- 查看数据分析："我最近的血糖控制得怎么样？"
- 测试冲突检测："今天想吃香菜拌牛肉"（AI会提醒您的过敏史）
- 观察模式识别：多次记录同类食物后，AI会自动发现规律

#### 个人档案管理
- 点击"个人档案"标签页
- **基本档案**：填写糖尿病类型、用药、目标血糖范围
- **偏好设置**：添加过敏源、不喜欢的食物、生活习惯、日程安排
- **行为模式**：查看AI自动发现的健康规律（需要积累一定数据）

#### 数据记录
- 点击"数据记录"标签页
- 选择要记录的类型（血糖/饮食/运动）
- 点击"添加记录"按钮填写详细信息
- 查看和管理历史记录

#### 数据分析
- 点击"数据分析"标签页
- 选择查看时间范围（7天/14天/30天）
- 查看趋势图表和统计数据
- 阅读个性化健康建议

### 重要提示

⚠️ **第一个注册的用户将自动成为管理员**

💡 **AI Memory系统使用建议**：
- **首次使用**：先完善个人档案，告诉AI您的基本健康信息和偏好
- **建立信任**：通过对话建立档案，AI会记住您说的每一个重要信息
- **持续互动**：定期记录血糖数据，AI会逐渐发现您的健康规律
- **测试记忆**：尝试提到之前说过的内容，体验AI的连续记忆能力
- **模式演化**：当同一情况出现2-3次后，AI会自动形成行为模式

💡 **健康管理建议**：
- 定期记录血糖数据，以获得更准确的分析结果
- 结合饮食和运动记录，帮助AI提供更精准的建议
- 遇到严重健康问题时，请及时咨询专业医生

🎯 **黑客松演示剧本**：
1. **初始化档案**："我叫Alex，2型糖尿病，正在打胰岛素。我不吃香菜，每周三下午要去游泳。"
2. **测试禁忌记忆**："今天游泳有点累，想吃个香菜拌牛肉补充体力。"（AI会提醒不吃香菜）
3. **记录事件**："中午吃了两碗白米饭，现在血糖16.5，感觉头晕。"
4. **触发模式**：再次说"我又想吃白米饭了"（AI会引用历史数据提醒）

## 目录结构

```
├── README.md # 说明文档
├── components.json # 组件库配置
├── index.html # 入口文件
├── package.json # 包管理
├── postcss.config.js # postcss 配置
├── public # 静态资源目录
│   ├── favicon.png # 图标
│   └── images # 图片资源
├── src # 源码目录
│   ├── App.tsx # 入口文件
│   ├── components # 组件目录
│   ├── contexts # 上下文目录
│   ├── db # 数据库配置目录
│   ├── hooks # 通用钩子函数目录
│   ├── index.css # 全局样式
│   ├── layout # 布局目录
│   ├── lib # 工具库目录
│   ├── main.tsx # 入口文件
│   ├── routes.tsx # 路由配置
│   ├── pages # 页面目录
│   ├── services  # 数据库交互目录
│   ├── types   # 类型定义目录
├── tsconfig.app.json  # ts 前端配置文件
├── tsconfig.json # ts 配置文件
├── tsconfig.node.json # ts node端配置文件
└── vite.config.ts # vite 配置文件
```

## 技术栈

Vite、TypeScript、React、Supabase
